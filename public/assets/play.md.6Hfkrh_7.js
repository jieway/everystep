import{m as s,j as te,P as K,h as k,S as ne,y as z,a4 as oe,a5 as ae,a6 as re,G as E,Y as N,d as Y,g as ie,o as _,c as w,k as l,a7 as F,a8 as U,O as C,F as W,E as I,t as H,n as se,a9 as q,I as Q,_ as le}from"./chunks/framework.2bglP9T5.js";import{d as ue}from"./chunks/pinia.gC8Kg3H1.js";function ce(e){return oe()?(ae(e),!0):!1}function R(e){return typeof e=="function"?e():s(e)}const de=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pe=Object.prototype.toString,fe=e=>pe.call(e)==="[object Object]",me=()=>{};function he(e,t){function n(...a){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(r).catch(o)})}return n}const X=e=>e();function ge(e=X){const t=k(!0);function n(){t.value=!1}function a(){t.value=!0}const r=(...o)=>{t.value&&e(...o)};return{isActive:ne(t),pause:n,resume:a,eventFilter:r}}function ve(e){return e||re()}function ye(e,t,n={}){const{eventFilter:a=X,...r}=n;return z(e,he(a,t),r)}function _e(e,t,n={}){const{eventFilter:a,...r}=n,{eventFilter:o,pause:u,resume:S,isActive:b}=ge(a);return{stop:ye(e,t,{...r,eventFilter:o}),pause:u,resume:S,isActive:b}}function we(e,t=!0,n){ve()?te(e,n):t?e():K(e)}function Se(e){var t;const n=R(e);return(t=n==null?void 0:n.$el)!=null?t:n}const $=de?window:void 0;function B(...e){let t,n,a,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,r]=e,t=$):[t,n,a,r]=e,!t)return me;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const o=[],u=()=>{o.forEach(m=>m()),o.length=0},S=(m,c,T,h)=>(m.addEventListener(c,T,h),()=>m.removeEventListener(c,T,h)),b=z(()=>[Se(t),R(r)],([m,c])=>{if(u(),!m)return;const T=fe(c)?{...c}:c;o.push(...n.flatMap(h=>a.map(O=>S(m,h,O,T))))},{immediate:!0,flush:"post"}),f=()=>{b(),u()};return ce(f),f}const V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="__vueuse_ssr_handlers__",be=Te();function Te(){return D in V||(V[D]=V[D]||{}),V[D]}function xe(e,t){return be[e]||t}function Le(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Oe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},G="vueuse-storage";function Ae(e,t,n,a={}){var r;const{flush:o="pre",deep:u=!0,listenToStorageChanges:S=!0,writeDefaults:b=!0,mergeDefaults:f=!1,shallow:m,window:c=$,eventFilter:T,onError:h=i=>{console.error(i)},initOnMounted:O}=a,y=(m?E:k)(typeof t=="function"?t():t);if(!n)try{n=xe("getDefaultStorage",()=>{var i;return(i=$)==null?void 0:i.localStorage})()}catch(i){h(i)}if(!n)return y;const g=R(t),A=Le(g),x=(r=a.serializer)!=null?r:Oe[A],{pause:P,resume:p}=_e(y,()=>v(y.value),{flush:o,deep:u,eventFilter:T});return c&&S&&we(()=>{B(c,"storage",M),B(c,G,ee),O&&M()}),O||M(),y;function v(i){try{if(i==null)n.removeItem(e);else{const d=x.write(i),L=n.getItem(e);L!==d&&(n.setItem(e,d),c&&c.dispatchEvent(new CustomEvent(G,{detail:{key:e,oldValue:L,newValue:d,storageArea:n}})))}}catch(d){h(d)}}function j(i){const d=i?i.newValue:n.getItem(e);if(d==null)return b&&g!=null&&n.setItem(e,x.write(g)),g;if(!i&&f){const L=x.read(d);return typeof f=="function"?f(L,g):A==="object"&&!Array.isArray(L)?{...g,...L}:L}else return typeof d!="string"?d:x.read(d)}function ee(i){M(i.detail)}function M(i){if(!(i&&i.storageArea!==n)){if(i&&i.key==null){y.value=g;return}if(!(i&&i.key!==e)){P();try{(i==null?void 0:i.newValue)!==x.write(y.value)&&(y.value=j(i))}catch(d){h(d)}finally{i?K(p):p()}}}}}function J(e,t,n={}){const{window:a=$}=n;return Ae(e,t,a==null?void 0:a.localStorage,n)}const Z=ue("playground",()=>{const e=J("shikiji-playground-lang","typescript"),t=J("shikiji-playground-theme","vitesse-dark"),n=E([{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:void 0}]),a=E([{id:"typescript",name:"TypeScript",import:void 0}]),r=E([]),o=E([]),u=J("shikiji-playground-input",""),S=k("<pre></pre>"),b=k(""),f=k(!0);function m(){a.value.length&&n.value.length&&(e.value=a.value[Math.floor(Math.random()*a.value.length)].id,t.value=n.value[Math.floor(Math.random()*n.value.length)].id)}return typeof window<"u"&&(async()=>{const{getHighlighter:c,addClassToHast:T}=await N(()=>import("./chunks/index.NPwjKmML.js"),__vite__mapDeps([0,1,2,3,4])),{bundledLanguagesInfo:h}=await N(()=>import("./chunks/bundle-full.zztj_2Lx.js"),__vite__mapDeps([1,2,3,4])),{bundledLanguagesInfo:O}=await N(()=>import("./chunks/bundle-web.IAq1QbjA.js"),__vite__mapDeps([5,2,4,3])),{bundledThemesInfo:y}=await N(()=>import("./chunks/themes.jM18edhg.js"),__vite__mapDeps([3,2])),g=await c({themes:[t.value],langs:["typescript","javascript",e.value]}),A=new Map;function x(p){return A.has(p)||A.set(p,fetch(`https://raw.githubusercontent.com/antfu/textmate-grammars-themes/main/samples/${p}.sample`).then(v=>v.text()).catch(v=>{console.error(v)})),A.get(p)}n.value=y,a.value=h,r.value=h,o.value=O,z(u,P,{immediate:!0}),z([e,t],async(p,v)=>{if(f.value=!0,await Promise.all([g.loadTheme(t.value),g.loadLanguage(e.value)]),(v[0]||!u.value)&&p[0]!==v[0]){const j=await x(e.value);j&&(u.value=j.trim().replace(/\n.*?from.*?$/i,"").trim())}P()},{immediate:!0});function P(){S.value=g.codeToHtml(u.value,{lang:e.value,theme:t.value,transformers:[{pre(p){var v;T(p,"vp-code"),b.value=((v=p.properties)==null?void 0:v.style)||""}}]}),f.value=!1}})(),{lang:e,theme:t,allLanguages:a,allThemes:n,bundledLangsFull:r,bundledLangsWeb:o,input:u,output:S,isLoading:f,preStyle:b,randomize:m}}),Ee={absolute:"","z-10":"",p2:"",px3:"",pl5:"",flex:"~ gap-1 items-center","left-0":"","top-0":"","right-0":"",border:"b-solid gray/5"},ke=l("div",{"i-carbon:chevron-down":"",op50:""},null,-1),Pe=["value"],je=l("div",{"i-carbon:chevron-down":"",op50:""},null,-1),Me=["value"],Ne=l("option",{disabled:""}," ────────── ",-1),Ve=["value"],De=l("div",{"flex-auto":""},null,-1),Fe=l("div",{op50:"","text-xs":"","mx-2":""}," Playground ",-1),ze=l("div",{"i-carbon:shuffle":"",op50:""},null,-1),$e=[ze],Ce={relative:"","mt-10":"","min-h-100":""},We=["innerHTML"],Ie=Y({__name:"ShikijiMiniPlayground",setup(e){const t=Z(),n=ie(()=>{var a;return((a=t.allThemes.find(r=>r.id===t.theme))==null?void 0:a.type)||"inherit"});return(a,r)=>(_(),w("div",{class:"language-ts vp-adaptive-theme mini-playground transition-none!",shadow:"",style:C([s(t).preStyle,{colorScheme:n.value}])},[l("div",Ee,[ke,F(l("select",{"onUpdate:modelValue":r[0]||(r[0]=o=>s(t).lang=o),"font-mono":"",style:C(s(t).preStyle)},[(_(!0),w(W,null,I(s(t).allLanguages,o=>(_(),w("option",{key:o.id,value:o.id},H(o.name),9,Pe))),128))],4),[[U,s(t).lang]]),je,F(l("select",{"onUpdate:modelValue":r[1]||(r[1]=o=>s(t).theme=o),"font-mono":"",style:C(s(t).preStyle)},[(_(!0),w(W,null,I(s(t).allThemes.filter(o=>o.type==="light"),o=>(_(),w("option",{key:o.id,value:o.id},H(o.displayName),9,Me))),128)),Ne,(_(!0),w(W,null,I(s(t).allThemes.filter(o=>o.type==="dark"),o=>(_(),w("option",{key:o.id,value:o.id},H(o.displayName),9,Ve))),128))],4),[[U,s(t).theme]]),De,l("div",{"i-svg-spinners-3-dots-fade":"",class:se(s(t).isLoading?"op100":"op0"),"flex-none":"","transition-opacity":""},null,2),Fe,l("button",{title:"Randomize",hover:"bg-gray/10",p1:"",rounded:"",onClick:r[2]||(r[2]=(...o)=>s(t).randomize&&s(t).randomize(...o))},$e)]),l("div",Ce,[l("span",{innerHTML:s(t).output},null,8,We),F(l("textarea",{"onUpdate:modelValue":r[3]||(r[3]=o=>s(t).input=o),"font-mono":"","bg-transparent":"",absolute:"","inset-0":"","py-20px":"","px-24px":"","text-transparent":"","caret-gray":"","tab-4":"",class:"line-height-$vp-code-line-height font-$vp-font-family-mono text-size-$vp-code-font-size"},null,512),[[q,s(t).input]])])],4))}}),He={class:"vp-doc"},Je={grid:"~ cols-2 gap-4",p4:""},Re=Y({__name:"ShikijiPlayground",setup(e){const t=Z();return(n,a)=>{const r=Ie;return _(),w("div",He,[l("div",Je,[F(l("textarea",{"onUpdate:modelValue":a[0]||(a[0]=o=>s(t).input=o),"font-mono":"",rounded:"",p4:"","my4.5":""},null,512),[[q,s(t).input]]),Q(r)])])}}}),Ye=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home"},"headers":[],"relativePath":"play.md","filePath":"play.md"}'),Ue={name:"play.md"};function Be(e,t,n,a,r,o){const u=Re;return _(),w("div",null,[Q(u)])}const qe=le(Ue,[["render",Be]]);export{Ye as __pageData,qe as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/index.NPwjKmML.js","assets/chunks/bundle-full.zztj_2Lx.js","assets/chunks/framework.2bglP9T5.js","assets/chunks/themes.jM18edhg.js","assets/chunks/wasm.obTIPoci.js","assets/chunks/bundle-web.IAq1QbjA.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}